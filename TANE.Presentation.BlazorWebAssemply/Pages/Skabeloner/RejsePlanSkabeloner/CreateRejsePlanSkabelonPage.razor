@using TANE.Application.Groups.TurSkabeloner.Queries.Interfaces
@using TANE.Application.Dtos.Skabeloner
@using TANE.Domain.Entities
@inject CustomStateProvider AuthStateProvider

@inject IReadTurSkabelon ReadTurSkabelon

@page "/skabeloner/rejseplan-skabeloner/create"

<CreateRejseplanSkabelonComponent InjectedTurSkabeloner="TurSkabeloner"/>

@code {

    public List<TurSkabelon> TurSkabeloner { get; set; } = new List<TurSkabelon>();
    string _token;

    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        _token = AuthStateProvider.CurrentUser.Token;
        TurSkabeloner = await ReadTurSkabelon.ReadAllTurSkabelonerAsync(_token);
    }
}