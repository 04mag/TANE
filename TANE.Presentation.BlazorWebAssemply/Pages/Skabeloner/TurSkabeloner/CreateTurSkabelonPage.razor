@using TANE.Application.Groups.DagSkabeloner.Queries.Interfaces
@using TANE.Domain.Entities
@using TANE.Presentation.BlazorWebAssemply.Pages.Skabeloner.TurSkabeloner.Components
@using TANE.Application.Dtos.Skabeloner

@inject IReadDagSkabelon ReadDagSkabelon
@inject CustomStateProvider AuthStateProvider

@page "/Ny/turskabelon"

<CreateTurSkabelonComponent InjectedDagSkabeloner="DagSkabeloner"/>

@code {
    string _token;
    public List<DagSkabelonReadDto> DagSkabeloner { get; set; } = new List<DagSkabelonReadDto>();


    protected override async Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        _token = AuthStateProvider.CurrentUser.Token;
        DagSkabeloner = await ReadDagSkabelon.ReadAllDagSkabelonerAsync(_token);
    }
}
